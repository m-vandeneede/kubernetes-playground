#
# IMPORTANT NOTE
#
# This chart inherits from our common library chart. You can check the default values/options here:
# https://github.com/k8s-at-home/library-charts/tree/main/charts/stable/common/values.yaml
#

image:
  # -- image repository
  repository: louislam/uptime-kuma
  # -- image tag
  # @default -- chart.appVersion
  tag:
  # -- image pull policy
  pullPolicy: Always

    # -- environment variables. See [application docs](https://github.com/louislam/uptime-kuma/wiki/Environment-Variables) for more details.
# @default -- See below
env:
  # -- Set the container timezone
  TZ: UTC
  # -- Set the custom ssl cert path (string)
  # UPTIME_KUMA_SSL_CERT:
  # -- Set the custom ssl key path (string)
  # UPTIME_KUMA_SSL_KEY:
  # -- Set the frame same-origin policy (int)
  UPTIME_KUMA_DISABLE_FRAME_SAMEORIGIN: 0

# -- Configures service settings for the chart.
# @default -- See values.yaml
service:
  main:
    ports:
      http:
        port: 80

ingress:
  # -- Enable and configure ingress settings for the chart under this key.
  # @default -- See values.yaml
  main:
    enabled: true
    hosts:
      -  # -- Host address. Helm template can be passed.
        host: uptime.vandeneede.org
        ## Configure the paths for the host
        paths:
          -  # -- Path.  Helm template can be passed.
            path: /
            # -- Ignored if not kubeVersion >= 1.14-0
            pathType: Prefix

persistence:
  # -- Default persistence for configuration files.
  # @default -- See below
  config:
    # -- Enables or disables the persistence item
    enabled: true

    # -- Sets the persistence type
    # Valid options are pvc, emptyDir, hostPath, secret, configMap or custom
    type: pvc

    # -- Where to mount the volume in the main container.
    # Defaults to `/<name_of_the_volume>`,
    # setting to '-' creates the volume but disables the volumeMount.
    mountPath: /app/data
    # -- Specify if the volume should be mounted read-only.
    readOnly: false
    storageClass: clusterstorage
    #existingClaim: task-pv-claim
    # -- AccessMode for the persistent volume.
    # Make sure to select an access mode that is supported by your storage provider!
    # [[ref]](https://kubernetes.io/docs/concepts/storage/persistent-volumes/#access-modes)
    accessMode: ReadWriteMany

    # -- The amount of storage that is requested for the persistent volume.
    size: 2Gi

    # -- Set to true to retain the PVC upon `helm uninstall`
    retain: true
